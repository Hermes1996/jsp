<!DOCTYPE html>
<meta charset="UTF-8" xmlns:v-run="http://www.w3.org/1999/xhtml">
    <title>钩子函数</title>
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
</head>
<body>
<!--bind: 只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作-->
<div id="app" v-run:hello.a.b="message"></div>
</body>
<script>
    new Vue({
        el: "#app",
        data: {
            message: "输出信息"
        },
        directives:{
            run:{
                bind:function (el,binding,vnode) {
                    var s=JSON.stringify;
                    el.innerHTML=
                      'name: '       + s(binding.name) + '<br>' +
                      'value: '      + s(binding.value) + '<br>' +
                      'expression: ' + s(binding.expression) + '<br>' +
                      'argument: '   + s(binding.arg) + '<br>' +
                      'modifiers: '  + s(binding.modifiers) + '<br>' +
                      'vnode keys: ' + Object.keys(vnode).join(', ')
                }
            }
        }
    })

</script>
</html>
